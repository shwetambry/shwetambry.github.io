<html>
<body>
	<div>
		<li class = "only" myAtt = '{"name":"first","price":6,"other" : "anything"}'> Some text
		</li>
		<li class = "only" myAtt = '{"name":"sec","price":12,"other" : "anotherthing"}' > Another text </li>
	</div>
	<p id="demo"></p>
<script type="text/javascript">
	var list = document.getElementsByClassName("only");
	var products = [];
	var listElt;
	var attArr;
	for (i=0;i<list.length;i++){
		listElt = list[i].getAttribute("myAtt");
		attArr = listElt.split(",");
		for (j = 0; j < attArr.length; j++){
			var idxn = attArr[j].indexOf('"name"');
			if (idxn >=0){
				var name = attArr[j].substring(idxn +8, idxn + attArr[j].length - 2);
				
			}
			var idx = attArr[j].indexOf('"price"');
			if (idx >=0){
				var Price = attArr[j].substring(idx+8);
				if(Number(Price) <=10){
					products.push(name);
				}
			}
			
		}
		
	}
	//document.getElementById("demo").innerHTML = myArr;
	text = "Number of products with price less than 10 are " + products.length + " and product array is {" + products + "}";
	document.getElementById("demo").innerHTML = text;


</script>


	
</body>
</html>